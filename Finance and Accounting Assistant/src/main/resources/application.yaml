spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/financedb
    username: postgres
    password: vedant
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

  data:
    redis:
      host: localhost
      port: 6379

  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest

  cache:
    type: redis

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

# ── JWT ───────────────────────────────────────────────────────────────────────
jwt:
  secret: ${JWT_SECRET:CHANGE_ME_IN_PRODUCTION_USE_A_64_CHAR_RANDOM_STRING_HERE_12345678}
  expiration-ms: ${JWT_EXPIRATION_MS:86400000}

# ── Razorpay ──────────────────────────────────────────────────────────────────
razorpay:
  key:
    id: ${RAZORPAY_KEY_ID:rzp_test_YOUR_KEY_ID_HERE}
    secret: ${RAZORPAY_KEY_SECRET:YOUR_KEY_SECRET_HERE}
  webhook:
    secret: ${RAZORPAY_WEBHOOK_SECRET:YOUR_WEBHOOK_SECRET_HERE}

# ── AI Service (Python Flask) ─────────────────────────────────────────────────
ai:
  service:
    url: ${AI_SERVICE_URL:http://localhost:5000}

# ── App config (single app: block — no duplicates!) ───────────────────────────
app:
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000}
  free-tier:
    max-transactions: 20
    max-transactions-view: 10

# ── Rate limiting ─────────────────────────────────────────────────────────────
security:
  rate-limit:
    login-max-attempts: 5
    login-window-minutes: 1
    register-max-attempts: 3
    register-window-minutes: 10